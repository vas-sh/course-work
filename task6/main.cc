#include "board.cc"
#include <chrono>
#include <iostream>
#include <thread>
#include <condition_variable>
#include <atomic>
using namespace std;

shared_ptr<int> ptrTo(int i) {
    return make_shared<int>(i);
}

Board testCase1 = {
    {
        {0, 0}, {0, 1}, {0, 2}, {0, 3}, {0, 4}, {0, 5}, {0, 6}, {0, 7}, {0, 8}, {0, 9},
        {1, 0}, {1, 1}, {1, 2}, {1, 3}, {1, 4}, {1, 5}, {1, 6}, {1, 7}, {1, 8}, {1, 9},
        {2, 0}, {2, 1}, {2, 2}, {2, 3}, {2, 4}, {2, 5}, {2, 6}, {2, 7}, {2, 8}, {2, 9},
        {3, 0}, {3, 1}, {3, 2}, {3, 3}, {3, 4}, {3, 5}, {3, 6}, {3, 7}, {3, 8}, {3, 9},
        {4, 0}, {4, 1}, {4, 2}, {4, 3}, {4, 4}, {4, 5}, {4, 6}, {4, 7}, {4, 8}, {4, 9},
        {5, 0}, {5, 1}, {5, 2}, {5, 3}, {5, 4}, {5, 5}, {5, 6}, {5, 7}, {5, 8}, {5, 9},
        {6, 0}, {6, 1}, {6, 2}, {6, 3}, {6, 4}, {6, 5}, {6, 6}, {6, 7}, {6, 8}, {6, 9},
        {7, 0}, {7, 1}, {7, 2}, {7, 3}, {7, 4}, {7, 5}, {7, 6}, {7, 7}, {7, 8}, {7, 9},
        {8, 0}, {8, 1}, {8, 2}, {8, 3}, {8, 4}, {8, 5}, {8, 6}, {8, 7}, {8, 8}, {8, 9},
        {9, 0}, {9, 1}, {9, 2}, {9, 3}, {9, 4}, {9, 5}, {9, 6}, {9, 7}, {9, 8}, {9, 9},
    },
    {
        {
            { 
                {0, 0}, {0, 1}, {0, 2}, {0, 3}, {0, 4}, {0, 5}, {0, 6}, 
            }, 
            ptrTo(1)
        },
        {
            { 
                {0, 7}, {0, 8}, {0, 9}, 
                {1, 7}, {1, 8}, {1, 9}, 
                {2, 7}, {2, 8}, {2, 9},
            }, 
            ptrTo(4)},
        {
            { 
                {1, 0}, 
                {2, 0}, 
                {3, 0},
            }, ptrTo(2)
        },
        {
            {
                {1, 1}, {1, 2}, {1, 3}, 
                {2, 1}, {2, 2}, {2, 3}, 
                {3, 1}, {3, 2}, {3, 3}, 
            }, 
            nullptr
        },
        {
            { 
                {1, 4}, {2, 4}, {3, 4}, 
            }, 
            nullptr
        },
        {
            { 
                {1, 5}, {1, 6}, {2, 5}, {2, 6}, 
            }, 
            nullptr
        },
        {
            { 
                {3, 5}, {3, 6}, {3, 7}, {3, 8}, {3, 9},
            }, 
            nullptr
        },
        {
            { 
                {4, 0}, {4, 1},
                {5, 0}, {5, 1}, 
                {6, 0}, {6, 1},
            }, nullptr
        },
        {
            { 
                {4, 2}, {4, 3}, 
                {5, 2}, {5, 3}, 
                {6, 2}, {6, 3},
            }, 
            ptrTo(3)
        },
        {
            { 
                {4, 4}, {4, 5}, {4, 6}, {4, 7}, {4, 8}, {4, 9}, 
            }, 
            nullptr},
        {
            {
                {5, 4}, {5, 5}, 
                {6, 4}, {6, 5}, 
                {7, 4}, {7, 5}, 
                {8, 4}, {8, 5},
            }, 
            nullptr
        },
        {
            {
                {5, 6},
                {6, 6},
                {7, 6},
                {8, 6}, 
                {9, 6},
            }, 
                nullptr
        },
        {
            {
                 {5, 7}, {5, 8}, {5, 9}, {6, 7}, {6, 8}, {6, 9},
            }, 
            nullptr
        },
        {
            {
                {7, 7}, {7, 8}, {7, 9},
                {8, 7}, {8, 8}, {8, 9},
                {9, 7}, {9, 8}, {9, 9}, 
            }, 
            ptrTo(4)
            }, 
        {
            { 
                {7, 0}, {7, 1}, {7, 2}, 
                {8, 0}, {8, 1}, {8, 2},
            },
            ptrTo(3)
        }, 
        {
            {
                {7, 3}, 
                {8, 3},
            }, 
            nullptr
        },
        {
            {
                 {9, 0}, {9, 1}, {9, 2}, {9, 3}, {9, 4}, {9, 5},
                }, 
            nullptr
        },
    }
};

Board testCase2 = {
	{
		{0, 0}, {0, 1}, {0, 2}, {0, 3}, {0, 4}, {0, 5}, {0, 6}, {0, 7}, {0, 8}, {0, 9},
		{1, 0}, {1, 1}, {1, 2}, {1, 3}, {1, 4}, {1, 5}, {1, 6}, {1, 7}, {1, 8}, {1, 9},
		{2, 0}, {2, 1}, {2, 2}, {2, 3}, {2, 4}, {2, 5}, {2, 6}, {2, 7}, {2, 8}, {2, 9},
		{3, 0}, {3, 1}, {3, 2}, {3, 3}, {3, 4}, {3, 5}, {3, 6}, {3, 7}, {3, 8}, {3, 9},
		{4, 0}, {4, 1}, {4, 2}, {4, 3}, {4, 4}, {4, 5}, {4, 6}, {4, 7}, {4, 8}, {4, 9},
		{5, 0}, {5, 1}, {5, 2}, {5, 3}, {5, 4}, {5, 5}, {5, 6}, {5, 7}, {5, 8}, {5, 9},
		{6, 0}, {6, 1}, {6, 2}, {6, 3}, {6, 4}, {6, 5}, {6, 6}, {6, 7}, {6, 8}, {6, 9},
		{7, 0}, {7, 1}, {7, 2}, {7, 3}, {7, 4}, {7, 5}, {7, 6}, {7, 7}, {7, 8}, {7, 9},
		{8, 0}, {8, 1}, {8, 2}, {8, 3}, {8, 4}, {8, 5}, {8, 6}, {8, 7}, {8, 8}, {8, 9},
		{9, 0}, {9, 1}, {9, 2}, {9, 3}, {9, 4}, {9, 5}, {9, 6}, {9, 7}, {9, 8}, {9, 9},
	},
	{
		{
			{
				{0, 0}, {0, 1},
				{1, 0}, {1, 1},
				{2, 0}, {2, 1},
			},
			ptrTo(2),
		},
		{
			{
				{0, 2},
				{1, 2},
				{2, 2},
			},
			ptrTo(1),
		},
		{
			{
				{0, 3}, {0, 4}, {0, 5}, {0, 6}, {0, 7},
			},
		},
		{
			{
				{0, 8}, {0, 9},
				{1, 8}, {1, 9},
				{2, 8}, {2, 9},
				{3, 8}, {3, 9},
				{4, 8}, {4, 9},
			},
			ptrTo(3),
		},
		{
			{
				{1, 3}, {1, 4},
				{2, 3}, {2, 4},
				{3, 3}, {3, 4},
				{4, 3}, {4, 4},
			},
		},
		{
			{
				{1, 5}, {1, 6}, {1, 7},
			},
			ptrTo(2),
		},
		{
			{
				{2, 5}, {2, 6}, {2, 7},
				{3, 5}, {3, 6}, {3, 7},
				{4, 5}, {4, 6}, {4, 7},
			},
			ptrTo(3),
		},
		{
			{
				{3, 0}, {3, 1}, {3, 2},
				{4, 0}, {4, 1}, {4, 2},
				{5, 0}, {5, 1}, {5, 2},
			},
			ptrTo(4),
		},
		{
			{
				{5, 3}, {5, 4}, {5, 5},
				{6, 3}, {6, 4}, {6, 5},
				{7, 3}, {7, 4}, {7, 5},
			},
		},
		{
			{
				{5, 6},
				{6, 6},
				{7, 6},
				{8, 6},
				{9, 6},
			},
			ptrTo(3),
		},
		{
			{
				{5, 7}, {5, 8}, {5, 9},
				{6, 7}, {6, 8}, {6, 9},
			},
			ptrTo(2),
		},
		{
			{
				{6, 0}, {6, 1},
				{7, 0}, {7, 1},
				{8, 0}, {8, 1},
			},
			ptrTo(2),
		},
		{
			{
				{6, 2},
				{7, 2},
				{8, 2},
			},
		},
		{
			{
				{7, 7}, {7, 8}, {7, 9},
				{8, 7}, {8, 8}, {8, 9},
				{9, 7}, {9, 8}, {9, 9},
			},
			ptrTo(2),
		},
		{
			{
				{8, 3}, {8, 4}, {8, 5},
			},
		},
		{
			{
				{9, 0}, {9, 1}, {9, 2}, {9, 3}, {9, 4}, {9, 5},
			},
		},
	},
};

Board testCase3 = {
	{
			{0, 0}, {0, 1}, {0, 2}, {0, 3}, {0, 4}, {0, 5}, {0, 6}, {0, 7}, {0, 8}, {0, 9},
			{1, 0}, {1, 1}, {1, 2}, {1, 3}, {1, 4}, {1, 5}, {1, 6}, {1, 7}, {1, 8}, {1, 9},
			{2, 0}, {2, 1}, {2, 2}, {2, 3}, {2, 4}, {2, 5}, {2, 6}, {2, 7}, {2, 8}, {2, 9},
			{3, 0}, {3, 1}, {3, 2}, {3, 3}, {3, 4}, {3, 5}, {3, 6}, {3, 7}, {3, 8}, {3, 9},
			{4, 0}, {4, 1}, {4, 2}, {4, 3}, {4, 4}, {4, 5}, {4, 6}, {4, 7}, {4, 8}, {4, 9},
			{5, 0}, {5, 1}, {5, 2}, {5, 3}, {5, 4}, {5, 5}, {5, 6}, {5, 7}, {5, 8}, {5, 9},
			{6, 0}, {6, 1}, {6, 2}, {6, 3}, {6, 4}, {6, 5}, {6, 6}, {6, 7}, {6, 8}, {6, 9},
			{7, 0}, {7, 1}, {7, 2}, {7, 3}, {7, 4}, {7, 5}, {7, 6}, {7, 7}, {7, 8}, {7, 9},
			{8, 0}, {8, 1}, {8, 2}, {8, 3}, {8, 4}, {8, 5}, {8, 6}, {8, 7}, {8, 8}, {8, 9},
			{9, 0}, {9, 1}, {9, 2}, {9, 3}, {9, 4}, {9, 5}, {9, 6}, {9, 7}, {9, 8}, {9, 9},
		},
		{
			{
				{
					{0, 0},
					{1, 0},
				},
			},
			{
				{
					{0, 1}, {0, 2}, {0, 3}, {0, 4}, {0, 5}, {0, 6},
				},
			},
			{
				{
					{0, 7},
					{1, 7},
				},
			},
			{
				{
					{0, 8}, {0, 9},
					{1, 8}, {1, 9},
				},
			},
			{
				{
					{1, 1}, {1, 2}, {1, 3}, {1, 4}, {1, 5}, {1, 6},
					{2, 1}, {2, 2}, {2, 3}, {2, 4}, {2, 5}, {2, 6},
					{3, 1}, {3, 2}, {3, 3}, {3, 4}, {3, 5}, {3, 6},
				},
				ptrTo(8),
			},
			{
				{
					{2, 0},
				},
			},
			{
				{
					{2, 7},
					{3, 7},
				},
			},
			{
				{
					{2, 8},
					{3, 8},
				},
			},
			{
				{
					{2, 9},
					{3, 9},
				},
			},
			{
				{
					{3, 0},
				},
			},
			{
				{
					{4, 0}, {4, 1}, {4, 2},
				},
			},
			{
				{
					{4, 3}, {4, 4},
					{5, 3}, {5, 4},
				},
			},
			{
				{
					{4, 5}, {4, 6},
					{5, 5}, {5, 6},
				},
			},
			{
				{
					{4, 7}, {4, 8}, {4, 9},
					{5, 7}, {5, 8}, {5, 9},
				},
			},
			{
				{
					{5, 0}, {5, 1}, {5, 2},
				},
			},
			{
				{
					{6, 0}, {6, 1}, {6, 2},
					{7, 0}, {7, 1}, {7, 2},
				},
			},
			{
				{
					{6, 3}, {6, 4}, {6, 5}, {6, 6}, {6, 7}, {6, 8},
					{7, 3}, {7, 4}, {7, 5}, {7, 6}, {7, 7}, {7, 8},
					{8, 3}, {8, 4}, {8, 5}, {8, 6}, {8, 7}, {8, 8},
				},
				ptrTo(8),
			},
			{
				{
					{6, 9},
					{7, 9},
					{8, 9},
					{9, 9},
				},
			},
			{
				{
					{8, 0},
					{9, 0},
				},
			},
			{
				{
					{8, 1}, {8, 2},
				},
			},
			{
				{
					{9, 1}, {9, 2}, {9, 3}, {9, 4}, {9, 5}, {9, 6}, {9, 7}, {9, 8},
				},
			},
		},
};

Board testCase4 = {
	{
		{0, 0}, {0, 1}, {0, 2}, {0, 7}, {0, 8}, {0, 9},
		{1, 0}, {1, 1}, {1, 2}, {1, 7}, {1, 8}, {1, 9},
		{2, 0}, {2, 1}, {2, 2}, {2, 7}, {2, 8}, {2, 9},
		{3, 0}, {3, 1}, {3, 2}, {3, 7}, {3, 8}, {3, 9},
		{4, 0}, {4, 1}, {4, 2}, {4, 3}, {4, 4}, {4, 5}, {4, 6}, {4, 7}, {4, 8}, {4, 9},
		{5, 0}, {5, 1}, {5, 2}, {5, 3}, {5, 4}, {5, 5}, {5, 6}, {5, 7}, {5, 8}, {5, 9},
		{6, 0}, {6, 1}, {6, 2}, {6, 3}, {6, 4}, {6, 5}, {6, 6}, {6, 7}, {6, 8}, {6, 9},
		{7, 0}, {7, 1}, {7, 2}, {7, 3}, {7, 4}, {7, 5}, {7, 6}, {7, 7}, {7, 8}, {7, 9},
		{8, 0}, {8, 1}, {8, 2}, {8, 7}, {8, 8}, {8, 9},
		{9, 0}, {9, 1}, {9, 2}, {9, 7}, {9, 8}, {9, 9},
		{10, 0}, {10, 1}, {10, 2}, {10, 7}, {10, 8}, {10, 9},
		{11, 0}, {11, 1}, {11, 2}, {11, 7}, {11, 8}, {11, 9},
	},
	{
		{
			
			{
				{0, 0}, {0, 1}, {0, 2},
				{1, 2},
				{2, 2},
				{3, 2},
				{4, 2}, {4, 3}, {4, 4},
			},
				ptrTo(3),
		},
		{
			
			{
				{0, 7}, {0, 8}, {0, 9},
				{1, 7},
				{2, 7},
				{3, 7},
				{4, 5}, {4, 6}, {4, 7},
			},
				ptrTo(1),
		},
		{
			
			{
				{1, 0}, {1, 1},
				{2, 0}, {2, 1},
			},
				ptrTo(2),
		},
		{
			
			{
				{1, 8}, {1, 9},
				{2, 8}, {2, 9},
			},
				ptrTo(0),
		},
		{
			{
				{3, 0}, {3, 1},
				{4, 0}, {4, 1},
				{5, 0}, {5, 1},
				{6, 0}, {6, 1},
				{7, 0}, {7, 1},
				{8, 0}, {8, 1},
			},
				nullptr
		},
		{
			{
				{3, 8}, {3, 9},
				{4, 8}, {4, 9},
				{5, 8}, {5, 9},
				{6, 8}, {6, 9},
				{7, 8}, {7, 9},
				{8, 8}, {8, 9},
			},
				ptrTo(4),
		},
		{
			{
				{5, 2}, {5, 3},
				{6, 2}, {6, 3},
			},
				ptrTo(1),
		},	
		{
			{
				{5, 4}, {5, 5},
				{6, 4}, {6, 5},
			},
				nullptr
		},
		{
			{
				{5, 6}, {5, 7},
				{6, 6}, {6, 7},
			},
				nullptr
		},
		{
			{
				{9, 0}, {9, 1},
				{10, 0}, {10, 1},
			},
				nullptr
		},
		{
			{
				{9, 8}, {9, 9},
				{10, 8}, {10, 9},
			},
				ptrTo(1),
		},
		{
			{
				{7, 2}, {7, 3}, {7, 4},
				{8, 2},
				{9, 2},
				{10, 2},
				{11, 0}, {11, 1}, {11, 2},
			},
				ptrTo(4),
		},
		{
			{
				{7, 5}, {7, 6}, {7, 7},
				{8, 7},
				{9, 7},
				{10, 7},
				{11, 7}, {11, 8}, {11, 9},
			},
				ptrTo(4),
		},
	},
};
	
Board testCase5 = {
	{
		{0, 8},
		{1, 8}, {1, 9}, {1, 10}, {1, 11}, {1, 12},
		{2, 7}, {2, 8}, {2, 9}, {2, 11}, {2, 12},
		{3, 5}, {3, 6}, {3, 7}, {3, 8}, {3, 9}, {3, 11}, {3, 12},
		{4, 3}, {4, 4}, {4, 5}, {4, 7}, {4, 8}, {4, 9}, {4, 12},
		{5, 2}, {5, 3}, {5, 4}, {5, 5}, {5, 7}, {5, 8}, {5, 12}, {5, 13},
		{6, 2}, {6, 7}, {6, 8}, {6, 11}, {6, 12}, {6, 13}, {6, 14},
		{7, 1}, {7, 2}, {7, 3}, {7, 13}, {7, 14},
		{8, 1}, {8, 2}, {8, 3}, {8, 4}, {8, 5}, {8, 6}, {8, 12}, {8, 13}, {8, 14},
		{9, 1}, {9, 2}, {9, 3}, {9, 4}, {9, 5}, {9, 12}, {9, 13},
		{10, 1}, {10, 2}, {10, 3}, {10, 4}, {10, 12},
		{11, 0}, {11, 1}, {11, 2}, {11, 11}, {11, 12}, {11, 13},
		{12, 1}, {12, 11}, {12, 12}, {12, 13}, {12, 14},
		{13, 1}, {13, 2}, {13, 3}, {13, 4}, {13, 5}, {13, 8}, {13, 11}, {13, 12}, {13, 13},
		{14, 1}, {14, 2}, {14, 3}, {14, 5}, {14, 6}, {14, 7}, {14, 8}, {14, 9}, {14, 10}, {14, 11}, {14, 12}, {14, 13},
		{15, 1}, {15, 2}, {15, 3}, {15, 6}, {15, 7}, {15, 8}, {15, 9}, {15, 10}, {15, 11}, {15, 12}, {15, 13},
		{16, 7}, {16, 10}, {16, 11}, {16, 12},
	},
	{
		{
			{
				{0, 8},
				{1, 8}, {1, 9}, {1, 10}, {1, 11}, {1, 12},
				{2, 8}, {2, 9}, {2, 11}, {2, 12},
				{3, 8}, {3, 9}, {3, 11}, {3, 12},
				{4, 8}, {4, 9}, {4, 12},
				{5, 8}, {5, 12}, {5, 13},
				{6, 8}, {6, 11}, {6, 12}, {6, 13}, {6, 14},
				{7, 13}, {7, 14},
				{8, 12}, {8, 13}, {8, 14},
			},
				ptrTo(9),
		},
		{
			
			{
				{2, 7},
				{3, 5}, {3, 6}, {3, 7},
				{4, 3}, {4, 4}, {4, 5}, {4, 7},
				{5, 2}, {5, 3}, {5, 4}, {5, 5}, {5, 7},
				{6, 2}, {6, 7},
				{7, 1}, {7, 2}, {7, 3},
				{8, 1}, {8, 2}, {8, 3}, {8, 4}, {8, 5}, {8, 6},
			},
			ptrTo(8),
		},
		{
			{
				{9, 1}, {9, 2}, {9, 3}, {9, 4}, {9, 5},
				{10, 1}, {10, 2}, {10, 3}, {10, 4},
				{11, 0}, {11, 1}, {11, 2},
				{12, 1},
				{13, 1}, {13, 2}, {13, 3}, {13, 4}, {13, 5},
				{14, 1}, {14, 2}, {14, 3}, {14, 5}, {14, 6}, {14, 7},
				{15, 1}, {15, 2}, {15, 3}, {15, 6}, {15, 7},
				{16, 7},
			},
				ptrTo(11),
		},
		{
			{
				{9, 12}, {9, 13},
				{10, 12},
				{11, 11}, {11, 12}, {11, 13},
				{12, 11}, {12, 12}, {12, 13}, {12, 14},
				{13, 8}, {13, 11}, {13, 12}, {13, 13},
				{14, 8}, {14, 9}, {14, 10}, {14, 11}, {14, 12}, {14, 13},
				{15, 8}, {15, 9}, {15, 10}, {15, 11}, {15, 12}, {15, 13},
				{16, 10}, {16, 11}, {16, 12},
			},
				ptrTo(13),
		},
	},
};
 
int main() {
    vector<Board> boards = {testCase1, testCase2, testCase3, testCase4, testCase5};
	cout << "Explanation: Black cells are marked with an 'x' and white cells are marked with a space." << endl;
	cout << "The speed of execution depends on the complexity of the playing board" << endl;
    for (size_t i = 0; i < boards.size(); i++) {
		cout << "Press Enter to get started solving board №" << i + 1;
		cin.get();
        boards[i].setNumbers();
		cout << "Initial board of the "<< i + 1 << " board";
		cout << boards[i].display();
        if (boards[i].isCorrect()) {
            cout << "Board structure is correct" << endl;;
        } else {
            cout << "Board structure is incorrect" << endl;
			cout << "This board cannot be solved" << endl;
			continue;
		}
		cout << "Solving..." << endl;;
        auto start = chrono::high_resolution_clock::now();

        boards[i].run();

        auto end = chrono::high_resolution_clock::now();
		chrono::duration<double> duration = end - start;
        cout << "Finish solving in " << duration.count() / 60.0 << " minutes\n" << endl;
    }
}